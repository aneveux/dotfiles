---
- name: "Installing additional cursors."
  aur: name=capitaine-cursors state=present

- name: "Creating .Xresources.d directory."
  file:
    path: ~/.Xresources.d
    state: directory

- name: "Deploying cursors configuration file."
  copy:
    src: files/cursor
    dest: ~/.Xresources.d/cursor

- name: "Initializing cursors configuration in .Xresources.d."
  lineinfile:
    path: ~/.Xresources
    create: yes
    state: present
    line: '#include ".Xresources.d/cursor"'

- name: "Installing Dracula theme and associated tooling."
  aur:
    name:
      - dracula-gtk-theme-git
      - vibrancy-colors
    state: present

- name: "Creating gtk configuration directory."
  file:
    path: ~/.config/gtk-3.0/
    state: directory

- name: "Deploying gtk configuration file."
  copy:
    src: files/settings.ini
    dest: ~/.config/gtk-3.0/settings.ini

- name: "Configuring Qt as a GTK theme."
  copy:
    src: files/Trolltech.conf
    dest: ~/.config/Trolltech.conf

- name: "Updating font cache."
  shell: creates=.Xdefaults fc-cache -f
  changed_when: no

- name: "Deploying .Xresources file."
  copy:
    src: files/Xresources
    dest: ~/.Xresources
    backup: yes

- name: "Linking Xresources file to Xdefaults."
  file:
    src: ~/.Xresources
    dest: ~/.Xdefaults
    state: link
    force: yes

- name: "Installing pywal."
  pacman: name=python-pywal state=present
  become: True

- name: "Creating user icons directory."
  file:
    path: ~/.icons
    state: directory

- name: "Installing Dracula icons."
  ansible.builtin.unarchive:
    src: files/Dracula.zip
    dest: ~/.icons/
